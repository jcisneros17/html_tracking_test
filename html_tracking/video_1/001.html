<!DOCTYPE html>
<html>
<head>
  <script>
    console.log("Starting fetch...");
    
    fetch("https://script.google.com/macros/s/AKfycbzrxOAZybsAMQ3c1NVmdd0eQOMO6l5jT9O2XIzZwsBr4islb3YKzXPoFQ0MoqUNcJvR/exec", {
      method: "POST",
      body: JSON.stringify({
        patient_id: "001",
        video_id: "video_1"
      }),
      headers: { "Content-Type": "application/json" }
    })
    .then(response => {
      console.log("Response status:", response.status);
      return response.text();
    })
    .then(data => {
      console.log("Response data:", data);
      alert("Success! Redirecting...");
      window.location.href = "https://www.nih.gov/";
    })
    .catch(error => {
      console.error("Error:", error);
      alert("Error: " + error.message);
      // Still redirect after showing error
      setTimeout(() => {
        window.location.href = "https://www.nih.gov/";
      }, 3000);
    });
  </script>
</head>
<body>
  <h2>Processing click...</h2>
  <p>Check the browser console (F12) for details.</p>
</body>
</html>
